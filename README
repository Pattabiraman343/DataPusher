# Data Pusher - Node.js Express API

A complete Node.js + Express application to receive JSON data, manage accounts, destinations, members, logs, and forward data to webhooks.

---

## ğŸ“ Project Structure

data-pusher-app/
â”œâ”€ src/
â”‚ â”œâ”€ config/ # Database & environment config
â”‚ â”‚ â””â”€ config.cjs
â”‚ â”œâ”€ controllers/ # Controllers for APIs
â”‚ â”œâ”€ middlewares/ # Auth, validation, caching, rate limiting
â”‚ â”œâ”€ migrations/ # Sequelize migration files
â”‚ â”œâ”€ models/ # Sequelize models
â”‚ â”œâ”€ routes/ # Express routes
â”‚ â”œâ”€ workers/ # Background workers
â”‚ â””â”€ queues/ # Bull queues & dashboard
â”œâ”€ .env.example # Example environment variables
â”œâ”€ package.json
â”œâ”€ README.md
â””â”€ DataPusherAPI.json # API documentation (Postman)

yaml
Copy code

---

## âš™ï¸ Setup Instructions

### 1ï¸âƒ£ Clone the repository

```bash
git clone <your-private-github-url>
cd data-pusher-app
2ï¸âƒ£ Install dependencies
bash
Copy code
npm install
3ï¸âƒ£ Setup environment variables
Create a .env file in the root directory based on .env.example:

ini
Copy code
DB_USER=your_db_user
DB_PASS=your_db_password
DB_NAME=your_db_name
DB_NAME_TEST=your_test_db_name
DB_HOST=localhost
PORT=5000
JWT_SECRET=your_jwt_secret
4ï¸âƒ£ Run migrations
Ensure PostgreSQL is running. Then run:

bash
Copy code
npx sequelize db:migrate --config src/config/config.cjs
This will create all necessary tables:

Users

Accounts

Destinations

AccountMembers

Logs

5ï¸âƒ£ Start the server
bash
Copy code
npm run dev
Server will run at: http://localhost:5000

ğŸ”‘ API Endpoints
All endpoints are documented in DataPusherAPI.json for easy import in Postman.

Key Endpoints:

Authentication
POST /api/auth/signup â†’ Signup

POST /api/auth/login â†’ Login

Accounts
POST /api/accounts â†’ Create Account

GET /api/accounts â†’ Get All Accounts

GET /api/accounts/:id â†’ Get Account by ID

PUT /api/accounts/:id â†’ Update Account

DELETE /api/accounts/:id â†’ Delete Account

GET /api/accounts/search?query= â†’ Search Accounts

Destinations
CRUD + search endpoints (Create, Update, Delete, Get, Search)

Account Members
Add, get, delete, search members

Logs
GET /api/logs â†’ Get all logs

GET /api/logs/search â†’ Search logs (Admin only)

Incoming Data
POST /server/incoming_data â†’ Receive & forward data via webhooks

ğŸ“¦ Features
JWT Authentication & Role-based Authorization

Validation & Error Handling

Sequelize ORM with PostgreSQL

Background job processing with Bull

Rate Limiting per account

Caching for GET endpoints

Full API documentation (Postman JSON)

âš¡ Usage
Signup as Admin â†’ /api/auth/signup

Login to get JWT token â†’ /api/auth/login

Use token in Authorization header for protected routes:

makefile
Copy code
Authorization: Bearer <JWT_TOKEN>
Add accounts, destinations, members, send data, and check logs.

ğŸ§¾ Documentation
DataPusherAPI.json â†’ Import into Postman for full API documentation.

Includes endpoints, headers, request/response examples, and error codes.

ğŸ’» Testing
Manual testing has been completed for all endpoints using Postman with the provided JSON collection.

Automated tests are pending and will be added in a future update.

Example environment variables in Postman:

token â†’ JWT token after login

app_secret_token â†’ Account secret token for incoming data

event_id â†’ Optional event ID for incoming data

ğŸ“ Notes
Ensure PostgreSQL is installed and running.

All migrations must be run before starting the server.

The server uses ES modules ("type": "module" in package.json).

ğŸ“§ Submission
Push entire project to a private GitHub repo including:

src/ folder with all code

.env.example

migrations/

DataPusherAPI.json

README.md